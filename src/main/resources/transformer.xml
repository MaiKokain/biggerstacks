<!--
  ~ Copyright (c) PORTB 2023
  ~
  ~ Licensed under GNU LGPL v3
  ~ https://www.gnu.org/licenses/lgpl-3.0.txt
  -->

<transformers>
    <!--    region group: vanilla stuff-->
    <class path="net.minecraft.world.Container" transformChildren="true">
        <method name="getMaxStackSize" transformer="slotLimit"/>
        <method name="m_6893_" transformer="slotLimit"/>
    </class>

    <class path="net.minecraftforge.items.IItemHandler" transformChildren="true">
        <method name="getSlotLimit" transformer="slotLimit" desc="(I)I"/>
        <!--      I don't remember what this does exactly. I think it was to preserve the behaviour of sophisticated stuff's stack upgrade system  -->
        <blacklist>net.p3pp3rf1y.sophisticatedcore.inventory.InventoryHandler</blacklist>
    </class>

    <class path="net.minecraft.world.inventory.Slot" transformChildren="true">
        <method name="getMaxStackSize" transformer="slotLimit" desc="()I"/>
        <!--        <method name="m_5866_" transformer="slotLimit"/>-->
        <method name="m_6641_" transformer="slotLimit"/>
        <!--      I don't remember what this does exactly. I think it was to preserve the behaviour of sophisticated stuff's stack upgrade system  -->
        <blacklist>net.p3pp3rf1y.sophisticatedcore.common.gui.StorageInventorySlot</blacklist>
    </class>
    <!-- endregion -->

    <!--    Mekanism seems to use completely custom GUI stuff. BasicInventorySlot is essentially its version of Slot. Easy fix -->
    <class path="mekanism.common.inventory.slot.BasicInventorySlot" transformChildren="true">
        <method name="getLimit" transformer="slotLimit"/>
    </class>

    <!--    I think this fixes the amount that is crafted from QIO terminal when shift+clicking a recipe-->
    <class path="mekanism.common.content.qio.QIOCraftingWindow" transformChildren="false">
        <method name="calculateMaxCraftAmount" transformer="replace64"/>
    </class>

    <!--    Fixes a compat issue in Playertabs mod -->
    <class path="wolforce.playertabs.TabsCapability" transformChildren="false">
        <method name="saveInvToCurrTab" transformer="replace64"/>
        <method name="writeTabToInv" transformer="replace64"/>
    </class>

    <!--    Fix the max item count for computercraft -->
    <class path="dan200.computercraft.shared.turtle.apis.TurtleAPI" transformChildren="false">
        <method name="checkCount" transformer="replace64"/>
        <method name="getItemSpace" transformer="replace64"/>
    </class>

    <!--    Fix the amount that is extracted from the terminal -->
    <class path="com.refinedmods.refinedstorage.apiimpl.network.grid.handler.ItemGridHandler" transformChildren="false">
        <method name="onExtract" transformer="replace64"
                desc="(Lnet/minecraft/server/level/ServerPlayer;Ljava/util/UUID;II)V"/>
    </class>

    <!-- region group: tinkers stuff-->
    <!--
    I think this is the amount of items to remove from the tinker slot in the tinker station when the user clicks on the result item.
    I'm not sure what it does, but it's probably good to make it consistent with the larger stack size.
     -->
    <class path="slimeknights.tconstruct.library.recipe.ModifierRemovalRecipe" transformChildren="false">
        <method name="shrinkToolSlotBy" transformer="replace64"/>
    </class>

    <class path="slimeknights.tconstruct.library.recipe.CreativeSlotRecipe" transformChildren="false">
        <method name="shrinkToolSlotBy" transformer="replace64"/>
    </class>

    <class path="slimeknights.tconstruct.gadgets.Exploder" transformChildren="false">
        <method name="finish" transformer="replace64"/>
    </class>
    <!--endregion-->

    <!--    <class path="" transformChildren="false">-->
    <!--        <method name="" transformer="replace64"/>-->
    <!--    </class>-->

    <!--    <class path="" transformChildren="false">-->
    <!--        <method name="" transformer="replace64"/>-->
    <!--    </class>-->

    <!--    <class path="" transformChildren="false">-->
    <!--        <method name="" transformer="replace64"/>-->
    <!--    </class>-->


</transformers>